<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Giulio Bellini">

<title>Bankruptcy Prediction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Bankruptcy Prediction_files/libs/clipboard/clipboard.min.js"></script>
<script src="Bankruptcy Prediction_files/libs/quarto-html/quarto.js"></script>
<script src="Bankruptcy Prediction_files/libs/quarto-html/popper.min.js"></script>
<script src="Bankruptcy Prediction_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Bankruptcy Prediction_files/libs/quarto-html/anchor.min.js"></script>
<link href="Bankruptcy Prediction_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Bankruptcy Prediction_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Bankruptcy Prediction_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Bankruptcy Prediction_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Bankruptcy Prediction_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Bankruptcy Prediction</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Giulio Bellini </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<div class="cell">

</div>
<section id="data-handling" class="level3">
<h3 class="anchored" data-anchor-id="data-handling">Data Handling</h3>
<p>A first step in the exploration analysis, we load the data from the workplace and convert it into a dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clear environment</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Import Data</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">read_excel</span>(<span class="st">"data.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Looking at the dimensions of the dataset, we can see that it contains 6819 samples (companies) , 95 independent variables and 1 dependent variable. The features are all numerical and represent accounting values and ratios of the company to which they refer. The purpose of this research is to see whether the variables and the interactions between them can accurately predict the target variable, i.e.&nbsp;whether the company has gone bankrupt (Y=1) or not (Y=0).</p>
<p>The target variable is highly imbalanced, with only 220 bankruptcy cases, representing 3.2% of the total.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>The dimensions of the dataset is: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>6819 96 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The distribution of the target variable is: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>6599 220 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The proportion of positiove cases is: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>0.032</code></pre>
</div>
</div>
<p>The table below shows three main descriptive statistics (type, mean, standard deviation and number of missing values) for the dependent variable and each of the independent variables.</p>
<p>All variables are numeric. This is an advantage for modelling as there is no need to encode categorical variables. Furthermore, there are no missing values in the dataset, so there is no need to impute values in the data handling phase.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate descriptive statistics</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to calculate mean for numeric columns only</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>median_numeric <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.numeric</span>(x)) <span class="fu">median</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to calculate standard deviation for numeric columns only</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>sd_numeric <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.numeric</span>(x)) <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the statistics and store them in a data frame</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Feature =</span> <span class="fu">colnames</span>(df),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">DataType =</span> <span class="fu">sapply</span>(df, class),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Median =</span> <span class="fu">sapply</span>(df, median_numeric),</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">StdDev =</span> <span class="fu">sapply</span>(df, sd_numeric),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">NumMissing =</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Display interactive table</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co">#datatable(stats, options = list(pageLength = 5))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(insight)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">export_table</span>(<span class="fu">format_table</span>(stats), <span class="at">format=</span><span class="st">'html'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="qraavacxwk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qraavacxwk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qraavacxwk thead, #qraavacxwk tbody, #qraavacxwk tfoot, #qraavacxwk tr, #qraavacxwk td, #qraavacxwk th {
  border-style: none;
}

#qraavacxwk p {
  margin: 0;
  padding: 0;
}

#qraavacxwk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qraavacxwk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qraavacxwk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qraavacxwk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qraavacxwk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qraavacxwk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qraavacxwk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qraavacxwk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qraavacxwk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qraavacxwk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qraavacxwk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qraavacxwk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qraavacxwk .gt_spanner_row {
  border-bottom-style: hidden;
}

#qraavacxwk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qraavacxwk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qraavacxwk .gt_from_md > :first-child {
  margin-top: 0;
}

#qraavacxwk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qraavacxwk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qraavacxwk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qraavacxwk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qraavacxwk .gt_row_group_first td {
  border-top-width: 2px;
}

#qraavacxwk .gt_row_group_first th {
  border-top-width: 2px;
}

#qraavacxwk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qraavacxwk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qraavacxwk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qraavacxwk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qraavacxwk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qraavacxwk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qraavacxwk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qraavacxwk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qraavacxwk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qraavacxwk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qraavacxwk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qraavacxwk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qraavacxwk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qraavacxwk .gt_left {
  text-align: left;
}

#qraavacxwk .gt_center {
  text-align: center;
}

#qraavacxwk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qraavacxwk .gt_font_normal {
  font-weight: normal;
}

#qraavacxwk .gt_font_bold {
  font-weight: bold;
}

#qraavacxwk .gt_font_italic {
  font-style: italic;
}

#qraavacxwk .gt_super {
  font-size: 65%;
}

#qraavacxwk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qraavacxwk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qraavacxwk .gt_indent_1 {
  text-indent: 5px;
}

#qraavacxwk .gt_indent_2 {
  text-indent: 10px;
}

#qraavacxwk .gt_indent_3 {
  text-indent: 15px;
}

#qraavacxwk .gt_indent_4 {
  text-indent: 20px;
}

#qraavacxwk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Feature">Feature</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="DataType">DataType</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Median">Median</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="StdDev">StdDev</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NumMissing">NumMissing</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Feature" class="gt_row gt_left">Bankrupt?</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.00</td>
<td headers="StdDev" class="gt_row gt_center">0.18</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(C) before interest and depreciation before interest</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.50</td>
<td headers="StdDev" class="gt_row gt_center">0.06</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(A) before interest and % after tax</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.56</td>
<td headers="StdDev" class="gt_row gt_center">0.07</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(B) before interest and depreciation after tax</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.55</td>
<td headers="StdDev" class="gt_row gt_center">0.06</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Gross Margin</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.61</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Realized Sales Gross Margin</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.61</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">1.00</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Pre-tax net Interest Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.80</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">After-tax net Interest Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.81</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Non-industry income and expenditure/revenue</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.30</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Continuous interest rate (after tax)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.78</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Expense Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">2.78e-04</td>
<td headers="StdDev" class="gt_row gt_center">3.24e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Research and development expense rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">5.09e+08</td>
<td headers="StdDev" class="gt_row gt_center">2.60e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash flow rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.47</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest-bearing debt interest rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">3.21e-04</td>
<td headers="StdDev" class="gt_row gt_center">1.08e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Tax rate (A)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.07</td>
<td headers="StdDev" class="gt_row gt_center">0.14</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (B)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.18</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (A)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.18</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (C)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.18</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Persistent EPS in the Last Four Seasons</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.22</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow Per Share</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.32</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Revenue Per Share (Yuan Â¥)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.03</td>
<td headers="StdDev" class="gt_row gt_center">5.17e+07</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Per Share (Yuan Â¥)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.10</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Per Share Net profit before tax (Yuan Â¥)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.18</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Realized Sales Gross Profit Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.02</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.85</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">After-tax Net Profit Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.69</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Regular Net Profit Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.69</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Continuous Net Profit Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.22</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">6.40e+09</td>
<td headers="StdDev" class="gt_row gt_center">2.90e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Growth Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">4.62e-04</td>
<td headers="StdDev" class="gt_row gt_center">1.14e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Return Growth Rate Ratio</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.26</td>
<td headers="StdDev" class="gt_row gt_center">9.63e-03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Reinvestment %</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.38</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Ratio</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.01</td>
<td headers="StdDev" class="gt_row gt_center">3.33e+07</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Ratio</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">7.41e-03</td>
<td headers="StdDev" class="gt_row gt_center">2.45e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest Expense Ratio</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.63</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total debt/Total net worth</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">5.55e-03</td>
<td headers="StdDev" class="gt_row gt_center">1.68e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Debt ratio %</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.11</td>
<td headers="StdDev" class="gt_row gt_center">0.05</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net worth/Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.89</td>
<td headers="StdDev" class="gt_row gt_center">0.05</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Long-term fund suitability ratio (A)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">5.66e-03</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Borrowing dependency</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.37</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Contingent liabilities/Net worth</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">5.37e-03</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating profit/Paid-in capital</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.10</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net profit before tax/Paid-in capital</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.18</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory and accounts receivable/Net value</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.40</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Turnover</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.12</td>
<td headers="StdDev" class="gt_row gt_center">0.10</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Accounts Receivable Turnover</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">9.68e-04</td>
<td headers="StdDev" class="gt_row gt_center">2.78e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Average Collection Days</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">6.57e-03</td>
<td headers="StdDev" class="gt_row gt_center">2.56e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory Turnover Rate (times)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">7.65e-04</td>
<td headers="StdDev" class="gt_row gt_center">3.25e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Fixed Assets Turnover Frequency</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">5.93e-04</td>
<td headers="StdDev" class="gt_row gt_center">2.48e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Worth Turnover Rate (times)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.03</td>
<td headers="StdDev" class="gt_row gt_center">0.04</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Revenue per person</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.02</td>
<td headers="StdDev" class="gt_row gt_center">1.37e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating profit per person</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.40</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Allocation rate per person</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">7.84e-03</td>
<td headers="StdDev" class="gt_row gt_center">2.95e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working Capital to Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.81</td>
<td headers="StdDev" class="gt_row gt_center">0.06</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Assets/Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.39</td>
<td headers="StdDev" class="gt_row gt_center">0.20</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Assets/Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.51</td>
<td headers="StdDev" class="gt_row gt_center">0.22</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash/Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.07</td>
<td headers="StdDev" class="gt_row gt_center">0.14</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Assets/Current Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">7.91e-03</td>
<td headers="StdDev" class="gt_row gt_center">1.72e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash/Current Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">4.90e-03</td>
<td headers="StdDev" class="gt_row gt_center">5.10e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.08</td>
<td headers="StdDev" class="gt_row gt_center">0.05</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Funds to Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.35</td>
<td headers="StdDev" class="gt_row gt_center">0.04</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory/Working Capital</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.28</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory/Current Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">6.50e-03</td>
<td headers="StdDev" class="gt_row gt_center">5.82e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liabilities/Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.81</td>
<td headers="StdDev" class="gt_row gt_center">0.21</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working Capital/Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.74</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liabilities/Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.33</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Long-term Liability to Current Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">1.97e-03</td>
<td headers="StdDev" class="gt_row gt_center">5.70e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Retained Earnings to Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.94</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total income/Total expense</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">2.34e-03</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total expense/Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.02</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Asset Turnover Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">1.99e-04</td>
<td headers="StdDev" class="gt_row gt_center">2.82e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Asset Turnover Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">2.25e-04</td>
<td headers="StdDev" class="gt_row gt_center">3.37e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working capitcal Turnover Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.59</td>
<td headers="StdDev" class="gt_row gt_center">8.96e-03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Turnover Rate</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">1.08e+09</td>
<td headers="StdDev" class="gt_row gt_center">2.94e+09</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Sales</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.67</td>
<td headers="StdDev" class="gt_row gt_center">9.34e-03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Fixed Assets to Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.20</td>
<td headers="StdDev" class="gt_row gt_center">1.01e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.81</td>
<td headers="StdDev" class="gt_row gt_center">0.21</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.33</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Equity to Long-term Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.11</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.65</td>
<td headers="StdDev" class="gt_row gt_center">0.05</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.46</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">CFO to Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.59</td>
<td headers="StdDev" class="gt_row gt_center">0.06</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.31</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Current Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.03</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Liability-Assets Flag</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.00</td>
<td headers="StdDev" class="gt_row gt_center">0.03</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Income to Total Assets</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.81</td>
<td headers="StdDev" class="gt_row gt_center">0.04</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total assets to GNP price</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">2.09e-03</td>
<td headers="StdDev" class="gt_row gt_center">3.76e+08</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">No-credit Interval</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.62</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Gross Profit to Sales</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.61</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Income to Stockholder's Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.84</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Liability to Equity</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.28</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Degree of Financial Leverage (DFL)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.03</td>
<td headers="StdDev" class="gt_row gt_center">0.02</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest Coverage Ratio (Interest expense to EBIT)</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.57</td>
<td headers="StdDev" class="gt_row gt_center">0.01</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Income Flag</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">1.00</td>
<td headers="StdDev" class="gt_row gt_center">0.00</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Equity to Liability</td>
<td headers="DataType" class="gt_row gt_center">numeric</td>
<td headers="Median" class="gt_row gt_center">0.03</td>
<td headers="StdDev" class="gt_row gt_center">0.05</td>
<td headers="NumMissing" class="gt_row gt_center">0.00</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="5"></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<div class="cell">

</div>
<p>A closer analysis shows that while some variables have very small standard deviations, others have standard deviations in the billions (e+09). The latter variables have extremely right-skewed distributions, with values ranging from zero to several billions. The box-plots of three sample variables are shown in Figure. The extreme values could be caused by human error in data collection, but the data source (Taiwan Economic Journal) is sufficiently reliable to rule out this possibility. Therefore, assuming that the data are correct, we could apply transformations (e.g.&nbsp;logarithmic) to the variables to shrink the extreme values towards the median. However, we decided not to apply any transformations beyond scaling the data to preserve the shape of the feature distributions, as outliers could be useful in identifying bankrupt companies.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show boxplots of three features</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the three plots arranged in a column</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(df<span class="sc">$</span><span class="st">'Quick Asset Turnover Rate'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">main=</span> <span class="st">"Sample Features Boxplots"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">"Quick Asset Turnover Rate"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">"darkmagenta"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">horizontal=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(df<span class="sc">$</span><span class="st">'Revenue per person'</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Revenue per person"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">"blue"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">horizontal=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(df<span class="sc">$</span><span class="st">'Long-term Liability to Current Assets'</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Long-term Liability to Current Assets"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="st">"green"</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">horizontal=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bankruptcy-Prediction_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Finally, the variable <em>“Net Income Flag”</em> has a standard deviation equal to 0, as it takes the value 1 for all samples (all companies have negative net income for the last two years). This variable does not help in classification and must be removed as it causes errors in the calculation of correlations, PCA, etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Removing zero variance variable "Net Income Flag"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, <span class="at">select=</span> <span class="sc">-</span><span class="st">`</span><span class="at">Net Income Flag</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<p>A key step is to divide the data into two sets: the training set and the test set.</p>
<ul>
<li><p>The <strong><em>training set</em></strong> will be used for correlation analysis, multicollinearity testing, dimensionality reduction, selecting the method for generating synthetic data, and training the classification models.</p></li>
<li><p>The <strong><em>test set</em></strong> is used to approximate the performance of the models on out-of-sample data.</p></li>
</ul>
<p>It is important to separate the training and test sets before performing any data transformation, analysis or modelling to avoid data leakage between the test and training sets, which could lead to a positive bias (overestimation) in model performance.</p>
<p>The <em>X_train</em> and <em>X_test</em> sets are then scaled separately to avoid information leakage. Scaling the features so that they have a mean of 0 and a standard deviation of 1 is an important step because some algorithms are affected by the order of magnitude of the variables.</p>
<p>For example, in <strong>Principal Component Analysis</strong> (PCA), if a feature has a larger variance just because of its order of magnitude, it will have a larger effect on the direction of the principal component without any real motivation, leading to worse class separability in lower dimensions.</p>
<p>Another example is the <strong>K-Nearest Neighbours</strong> (KNN) algorithm, which is used both as a classification model and in other algorithms such as Isomap and SMOTE. In KNN, the use of unscaled features results in a completely different fit, as higher order variables have a greater impact on the distance between data points and thus on the selection of the k-nearest neighbours.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stratified random sample to maintain proportion of target variable</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Set seed for reproducibility</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>trainIndex <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(df<span class="sc">$</span><span class="st">`</span><span class="at">Bankrupt?</span><span class="st">`</span>, <span class="at">p =</span> <span class="fl">0.8</span>, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">list =</span> <span class="cn">FALSE</span>, </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">times =</span> <span class="dv">1</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and testing sets</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Split independent and dependent variables</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale sets separately to avoid data leakage</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>X_train <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">scale</span>(<span class="fu">select</span>(df[trainIndex, ], <span class="sc">-</span><span class="st">`</span><span class="at">Bankrupt?</span><span class="st">`</span>)))</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>Y_train <span class="ot">&lt;-</span> df[trainIndex, ]<span class="sc">$</span><span class="st">`</span><span class="at">Bankrupt?</span><span class="st">`</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>X_test <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">scale</span>(<span class="fu">select</span>(df[<span class="sc">-</span>trainIndex, ], <span class="sc">-</span><span class="st">`</span><span class="at">Bankrupt?</span><span class="st">`</span>)))</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>Y_test <span class="ot">&lt;-</span> df[<span class="sc">-</span>trainIndex, ]<span class="sc">$</span><span class="st">`</span><span class="at">Bankrupt?</span><span class="st">`</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, train set contains 80% of the data, and test set contains 20%, </span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># with the proportion of the target variable's classes maintained.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="correlation-analysis" class="level3">
<h3 class="anchored" data-anchor-id="correlation-analysis">Correlation Analysis</h3>
<p>The Table below show the <strong>correlation</strong> of each independent variable with the dependent variable “Bankrupt?”.</p>
<p>In the graph on the right, the features are sorted in descending order according to their correlation coefficient with the independent variable.</p>
<p>It can be seen that variables related to the amount of liabilities relative to equity and assets are <em>positively</em> correlated with corporate bankruptcy. This makes sense from a financial point of view, since excessive use of debt, especially short-term debt, increases the risk of insolvency. Excessive expenses relative to asset value and excessive reliance on equity relative to long-term debt are also positively correlated with bankruptcy.</p>
<p>Variables related to profit, efficiency, such as ROA (return on assets) and share value are <em>negatively</em> correlated with company failure. Again, this makes financial sense. A company with high profitability is able to pay its debts on time, make investments for growth and face sudden expenses without running the risk of financial distress.</p>
<p>The correlation coefficients of the independent variables are mostly below 0.3 in absolute terms. Therefore, the features are only weakly positively correlated with the dependent variable. This is a common occurrence in economics and finance, as many factors affect the economic system. However, this does not necessarily mean that these variables and their interactions lack predictive power.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Pearson Correlation Test on the Training Set</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Define empty dataframe to store the results: corr coefficients and p-values</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate along the columns and compute correlation coefficent and p-value</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># for each independent variable with the dependent variable</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (col <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">ncol</span>(X_train) <span class="sc">-</span><span class="dv">1</span>)) {</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">cor.test</span>(Y_train, X_train[, col])</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  result_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">index=</span><span class="fu">colnames</span>(X_train)[col], <span class="at">coeff=</span><span class="fu">round</span>(result<span class="sc">$</span>estimate,<span class="dv">4</span>), <span class="at">pvalue=</span><span class="fu">round</span>(result<span class="sc">$</span>p.value, <span class="dv">5</span>))</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  test_results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(test_results, result_df)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Set features names as row names</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(test_results) <span class="ot">&lt;-</span> test_results<span class="sc">$</span>index</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>test_results<span class="sc">$</span>index <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Create interactive table to visualize the results</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Features are sorted in descending order based on the correlation coefficient</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#datatable(test_results[order(-test_results$coeff),], options = list(pageLength = 5))</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> test_results[<span class="fu">order</span>(<span class="sc">-</span>test_results<span class="sc">$</span>coeff),]</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">rownames</span>(test_results), test_results)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(test_results)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"Feature"</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="fu">export_table</span>(<span class="fu">format_table</span>(test_results), <span class="at">format=</span><span class="st">'html'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="ivptswdvmg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ivptswdvmg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ivptswdvmg thead, #ivptswdvmg tbody, #ivptswdvmg tfoot, #ivptswdvmg tr, #ivptswdvmg td, #ivptswdvmg th {
  border-style: none;
}

#ivptswdvmg p {
  margin: 0;
  padding: 0;
}

#ivptswdvmg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ivptswdvmg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ivptswdvmg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ivptswdvmg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ivptswdvmg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ivptswdvmg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivptswdvmg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ivptswdvmg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ivptswdvmg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ivptswdvmg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ivptswdvmg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ivptswdvmg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ivptswdvmg .gt_spanner_row {
  border-bottom-style: hidden;
}

#ivptswdvmg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ivptswdvmg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ivptswdvmg .gt_from_md > :first-child {
  margin-top: 0;
}

#ivptswdvmg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ivptswdvmg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ivptswdvmg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ivptswdvmg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ivptswdvmg .gt_row_group_first td {
  border-top-width: 2px;
}

#ivptswdvmg .gt_row_group_first th {
  border-top-width: 2px;
}

#ivptswdvmg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivptswdvmg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ivptswdvmg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ivptswdvmg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivptswdvmg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivptswdvmg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ivptswdvmg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ivptswdvmg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ivptswdvmg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivptswdvmg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ivptswdvmg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivptswdvmg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ivptswdvmg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivptswdvmg .gt_left {
  text-align: left;
}

#ivptswdvmg .gt_center {
  text-align: center;
}

#ivptswdvmg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ivptswdvmg .gt_font_normal {
  font-weight: normal;
}

#ivptswdvmg .gt_font_bold {
  font-weight: bold;
}

#ivptswdvmg .gt_font_italic {
  font-style: italic;
}

#ivptswdvmg .gt_super {
  font-size: 65%;
}

#ivptswdvmg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ivptswdvmg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ivptswdvmg .gt_indent_1 {
  text-indent: 5px;
}

#ivptswdvmg .gt_indent_2 {
  text-indent: 10px;
}

#ivptswdvmg .gt_indent_3 {
  text-indent: 15px;
}

#ivptswdvmg .gt_indent_4 {
  text-indent: 20px;
}

#ivptswdvmg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Feature">Feature</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="coeff">coeff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="pvalue">pvalue</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Feature" class="gt_row gt_left">Debt ratio %</td>
<td headers="coeff" class="gt_row gt_center">0.25</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Current Assets</td>
<td headers="coeff" class="gt_row gt_center">0.21</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Assets</td>
<td headers="coeff" class="gt_row gt_center">0.19</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Liability-Assets Flag</td>
<td headers="coeff" class="gt_row gt_center">0.16</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Borrowing dependency</td>
<td headers="coeff" class="gt_row gt_center">0.16</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Liability to Equity</td>
<td headers="coeff" class="gt_row gt_center">0.15</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total expense/Assets</td>
<td headers="coeff" class="gt_row gt_center">0.15</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liabilities/Equity</td>
<td headers="coeff" class="gt_row gt_center">0.14</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Equity</td>
<td headers="coeff" class="gt_row gt_center">0.14</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Equity to Long-term Liability</td>
<td headers="coeff" class="gt_row gt_center">0.13</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Fixed Assets Turnover Frequency</td>
<td headers="coeff" class="gt_row gt_center">0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash/Current Liability</td>
<td headers="coeff" class="gt_row gt_center">0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">0.07</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Fixed Assets to Assets</td>
<td headers="coeff" class="gt_row gt_center">0.07</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory and accounts receivable/Net value</td>
<td headers="coeff" class="gt_row gt_center">0.06</td>
<td headers="pvalue" class="gt_row gt_center">1.00e-05</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total assets to GNP price</td>
<td headers="coeff" class="gt_row gt_center">0.04</td>
<td headers="pvalue" class="gt_row gt_center">2.98e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Contingent liabilities/Net worth</td>
<td headers="coeff" class="gt_row gt_center">0.03</td>
<td headers="pvalue" class="gt_row gt_center">0.01</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Ratio</td>
<td headers="coeff" class="gt_row gt_center">0.03</td>
<td headers="pvalue" class="gt_row gt_center">0.03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Asset Turnover Rate</td>
<td headers="coeff" class="gt_row gt_center">0.03</td>
<td headers="pvalue" class="gt_row gt_center">0.03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Long-term fund suitability ratio (A)</td>
<td headers="coeff" class="gt_row gt_center">0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.13</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Degree of Financial Leverage (DFL)</td>
<td headers="coeff" class="gt_row gt_center">0.01</td>
<td headers="pvalue" class="gt_row gt_center">0.38</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Asset Turnover Rate</td>
<td headers="coeff" class="gt_row gt_center">0.01</td>
<td headers="pvalue" class="gt_row gt_center">0.39</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Worth Turnover Rate (times)</td>
<td headers="coeff" class="gt_row gt_center">0.01</td>
<td headers="pvalue" class="gt_row gt_center">0.43</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory Turnover Rate (times)</td>
<td headers="coeff" class="gt_row gt_center">5.20e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.70</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Long-term Liability to Current Assets</td>
<td headers="coeff" class="gt_row gt_center">4.80e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.72</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Allocation rate per person</td>
<td headers="coeff" class="gt_row gt_center">4.30e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.75</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Sales</td>
<td headers="coeff" class="gt_row gt_center">1.20e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.93</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Realized Sales Gross Profit Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">4.00e-04</td>
<td headers="pvalue" class="gt_row gt_center">0.98</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Rate</td>
<td headers="coeff" class="gt_row gt_center">2.00e-04</td>
<td headers="pvalue" class="gt_row gt_center">0.99</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory/Working Capital</td>
<td headers="coeff" class="gt_row gt_center">-4.00e-04</td>
<td headers="pvalue" class="gt_row gt_center">0.98</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working capitcal Turnover Rate</td>
<td headers="coeff" class="gt_row gt_center">-4.00e-04</td>
<td headers="pvalue" class="gt_row gt_center">0.98</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Revenue per person</td>
<td headers="coeff" class="gt_row gt_center">-2.50e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.85</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Assets/Current Liability</td>
<td headers="coeff" class="gt_row gt_center">-2.50e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.85</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total debt/Total net worth</td>
<td headers="coeff" class="gt_row gt_center">-3.40e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.80</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Revenue Per Share (Yuan Â¥)</td>
<td headers="coeff" class="gt_row gt_center">-4.10e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.76</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">After-tax net Interest Rate</td>
<td headers="coeff" class="gt_row gt_center">-5.50e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.69</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest Coverage Ratio (Interest expense to EBIT)</td>
<td headers="coeff" class="gt_row gt_center">-5.60e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.68</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Continuous interest rate (after tax)</td>
<td headers="coeff" class="gt_row gt_center">-6.30e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.64</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Expense Rate</td>
<td headers="coeff" class="gt_row gt_center">-6.30e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.64</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Pre-tax net Interest Rate</td>
<td headers="coeff" class="gt_row gt_center">-6.60e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.62</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Average Collection Days</td>
<td headers="coeff" class="gt_row gt_center">-7.00e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.60</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total income/Total expense</td>
<td headers="coeff" class="gt_row gt_center">-7.00e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.61</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Accounts Receivable Turnover</td>
<td headers="coeff" class="gt_row gt_center">-8.60e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.52</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">No-credit Interval</td>
<td headers="coeff" class="gt_row gt_center">-9.30e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.49</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Continuous Net Profit Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">-9.40e-03</td>
<td headers="pvalue" class="gt_row gt_center">0.49</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Non-industry income and expenditure/revenue</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.25</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Inventory/Current Liability</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.25</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.23</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest Expense Ratio</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.23</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Return Growth Rate Ratio</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.23</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Turnover Rate</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.20</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Interest-bearing debt interest rate</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.10</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Research and development expense rate</td>
<td headers="coeff" class="gt_row gt_center">-0.02</td>
<td headers="pvalue" class="gt_row gt_center">0.08</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liabilities/Liability</td>
<td headers="coeff" class="gt_row gt_center">-0.03</td>
<td headers="pvalue" class="gt_row gt_center">0.03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Liability to Liability</td>
<td headers="coeff" class="gt_row gt_center">-0.03</td>
<td headers="pvalue" class="gt_row gt_center">0.03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Equity</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">9.04e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Regular Net Profit Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">7.65e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">After-tax Net Profit Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">6.07e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Liability</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">5.75e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Growth Rate</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">1.05e-03</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Reinvestment %</td>
<td headers="coeff" class="gt_row gt_center">-0.04</td>
<td headers="pvalue" class="gt_row gt_center">9.40e-04</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Assets/Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.06</td>
<td headers="pvalue" class="gt_row gt_center">1.00e-05</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow to Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.07</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash Flow Per Share</td>
<td headers="coeff" class="gt_row gt_center">-0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Current Ratio</td>
<td headers="coeff" class="gt_row gt_center">-0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Total Asset Turnover</td>
<td headers="coeff" class="gt_row gt_center">-0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash flow rate</td>
<td headers="coeff" class="gt_row gt_center">-0.08</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Funds to Liability</td>
<td headers="coeff" class="gt_row gt_center">-0.09</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating profit per person</td>
<td headers="coeff" class="gt_row gt_center">-0.09</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Cash/Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.10</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Quick Assets/Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.10</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Tax rate (A)</td>
<td headers="coeff" class="gt_row gt_center">-0.11</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">CFO to Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.12</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Realized Sales Gross Margin</td>
<td headers="coeff" class="gt_row gt_center">-0.12</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Gross Margin</td>
<td headers="coeff" class="gt_row gt_center">-0.12</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Gross Profit to Sales</td>
<td headers="coeff" class="gt_row gt_center">-0.12</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating profit/Paid-in capital</td>
<td headers="coeff" class="gt_row gt_center">-0.15</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Operating Profit Per Share (Yuan Â¥)</td>
<td headers="coeff" class="gt_row gt_center">-0.15</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Income to Stockholder's Equity</td>
<td headers="coeff" class="gt_row gt_center">-0.17</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working Capital/Equity</td>
<td headers="coeff" class="gt_row gt_center">-0.17</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (C)</td>
<td headers="coeff" class="gt_row gt_center">-0.17</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (B)</td>
<td headers="coeff" class="gt_row gt_center">-0.17</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Value Per Share (A)</td>
<td headers="coeff" class="gt_row gt_center">-0.17</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Working Capital to Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.20</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Per Share Net profit before tax (Yuan Â¥)</td>
<td headers="coeff" class="gt_row gt_center">-0.21</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net profit before tax/Paid-in capital</td>
<td headers="coeff" class="gt_row gt_center">-0.22</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Retained Earnings to Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.22</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Persistent EPS in the Last Four Seasons</td>
<td headers="coeff" class="gt_row gt_center">-0.23</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net worth/Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.25</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(C) before interest and depreciation before interest</td>
<td headers="coeff" class="gt_row gt_center">-0.27</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(B) before interest and depreciation after tax</td>
<td headers="coeff" class="gt_row gt_center">-0.28</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">ROA(A) before interest and % after tax</td>
<td headers="coeff" class="gt_row gt_center">-0.29</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
    <tr><td headers="Feature" class="gt_row gt_left">Net Income to Total Assets</td>
<td headers="coeff" class="gt_row gt_center">-0.33</td>
<td headers="pvalue" class="gt_row gt_center">0.00</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="3"></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>Figure shows the correlation matrix of the independent variables. The names of the variables have been omitted to avoid cluttering the graph. The Figure shows the correlation matrix of the variables that have a correlation coefficient greater than or equal to 0.9 in absolute terms with any other independent variable.</p>
<p>In both correlation matrices, the variables were rearranged using hierarchical clustering to identify possible clusters of highly correlated variables. Hierarchical clustering was applied to the distance matrix obtained from the correlation matrix, where distances were calculated as <span class="math inline">\(1 - |correlationCoeff|\)</span>. The features were then reordered so that variables belonging to the same cluster were positioned next to each other in the matrix. This procedure makes the correlation matrix easier to interpret.</p>
<p>In Figure we can see two main clusters: one of positively correlated features in the centre of the plot and one of negatively correlated features at the top. Other smaller clusters are also visible. Looking at Figure, these two clusters are even more obvious.</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import library to show correlation plot</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute correlation matrix of the indenpendent variables</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlation analysis is performed on train set only </span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(X_train)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom color sequence from blue to red</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Blue for negative correlation and red for positive correlation</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>col <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>))(<span class="dv">200</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Show correlation matrix</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(cor_matrix, <span class="at">method =</span> <span class="st">"color"</span>, <span class="at">type =</span> <span class="st">"upper"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">tl.pos =</span> <span class="st">"n"</span>, <span class="co"># Don't show features names</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">diag =</span> <span class="cn">FALSE</span>, <span class="co"># Exclude diagonal</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">order =</span> <span class="st">"hclust"</span>, <span class="co"># Order variables by hierarchical clustering</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">col=</span>col) <span class="co"># Set custom color sequence </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bankruptcy-Prediction_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Some features are perfectly correlated:</p>
<p><span class="math inline">\(Corr(Current\ Liability\ to\ Equity,\ Current\ Liabilities/Equity) = 1\)</span></p>
<p><span class="math inline">\(Corr(Current\ Liability\ to\ Liability,\ Current\ Liabilities/Liability) = 1\)</span></p>
<p><span class="math inline">\(Corr(Debt\ Ratio, Net\ worth/Assets) = -1\)</span></p>
<p>These variables seem to measure the same quantity, even if their names are slightly different. For each pair of perfectly correlated variables, it is necessary to select only one, as the other would complicate the models without providing any useful information.</p>
<p>Other variables are highly correlated, even if not perfectly. These variables express very similar accounting aspects, differing only in small details. Some examples are:</p>
<p><span class="math inline">\(Corr(Operating\ Gross\ Margin,\ Gross\ Profit\ to\ Sales) = 0.999\)</span></p>
<p><span class="math inline">\(Corr(Pre-tax\ net\ Interest\ Rate,\ After-tax\ net\ Interest\ Rate) = 0.987\)</span></p>
<p><span class="math inline">\(Corr(ROA(A)\ before\ interest,\ Net\ Income\ to\ Total\ Assets) = 0.96\)</span></p>
<p>Unlike in the case of perfectly correlated variables, in this case it is not the best choice to choose one random variable to keep and disregard the other, because we may miss important information, such as interactions with other variables. It is therefore necessary to proceed with further analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify features with correlation &gt; 0.9 or &lt; -0.9 with any other feature</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude diagonal elements by setting them to 0 as we don't consider self-correlation</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(cor_matrix) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>high_cor_features <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">apply</span>(cor_matrix, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">any</span>(x <span class="sc">&gt;</span> <span class="fl">0.9</span> <span class="sc">|</span> x <span class="sc">&lt;</span> <span class="sc">-</span><span class="fl">0.9</span>)), <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset the correlation matrix</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>sub_cor_matrix <span class="ot">&lt;-</span> cor_matrix[high_cor_features, high_cor_features]</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom color sequence from blue to red</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>col <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>))(<span class="dv">200</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the subsetted correlation matrix</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(sub_cor_matrix, <span class="at">method =</span> <span class="st">"color"</span>, <span class="at">type=</span><span class="st">"upper"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">order =</span> <span class="st">"hclust"</span>, <span class="co"># Cluster variables</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">addrect =</span> <span class="dv">3</span>, <span class="co"># Adjust the number of rectangles for clustering as needed</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">diag=</span> <span class="cn">FALSE</span>, <span class="co"># Exclude diagonal</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">tl.col =</span> <span class="st">"black"</span>, <span class="at">tl.srt =</span> <span class="dv">45</span>, <span class="at">tl.cex =</span> <span class="fl">0.75</span>, <span class="co"># Adjust text appearance</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> col) <span class="co"># Set custom color sequence</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bankruptcy-Prediction_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove on of two perfectly correlated features</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove both in train and test set</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>X_train <span class="ot">&lt;-</span> <span class="fu">subset</span>(X_train, <span class="at">select=</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">Current Liability to Equity</span><span class="st">`</span>,<span class="st">`</span><span class="at">Current Liability to Liability</span><span class="st">`</span>,<span class="st">`</span><span class="at">Net worth/Assets</span><span class="st">`</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>X_test <span class="ot">&lt;-</span> <span class="fu">subset</span>(X_test, <span class="at">select=</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">Current Liability to Equity</span><span class="st">`</span>,<span class="st">`</span><span class="at">Current Liability to Liability</span><span class="st">`</span>,<span class="st">`</span><span class="at">Net worth/Assets</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="dimensionality-reduction" class="level2">
<h2 class="anchored" data-anchor-id="dimensionality-reduction">Dimensionality Reduction</h2>
<p>Dimensionality reduction by <strong>Principal Components Analysis</strong> (PCA) was performed on the training set and the Figure shows the first two principal components. We can see a large central cluster and several outliers. Some of the outliers correspond to bankrupt companies. We expect these data points to be easily classified correctly by econometric or machine learning models. However, most bankrupt firms are mixed with non-bankrupt firms in the central cluster. This means that these positive cases are close to the negative cases in the high dimensional space and are more difficult to classify correctly. However, it can be seen that almost all bankrupt companies have a negative value for the first principal component, suggesting that some separability of these cases is still possible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform PCA</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>pca_result <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(X_train)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the first two principal components</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>pc1 <span class="ot">&lt;-</span> pca_result<span class="sc">$</span>x[, <span class="dv">1</span>]</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>pc2 <span class="ot">&lt;-</span> pca_result<span class="sc">$</span>x[, <span class="dv">2</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe for plotting</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>pca_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">PC1 =</span> pc1, <span class="at">PC2 =</span> pc2, <span class="at">Y=</span><span class="fu">factor</span>(Y_train, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Non Bankrupt"</span>, <span class="st">"Bankrupt"</span>)))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the first two principal components</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Datapoints corresponding to bankrupt companies are in the foregound </span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pca_df, <span class="fu">aes</span>(<span class="at">x =</span> PC1, <span class="at">y =</span> PC2)) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> pca_df[pca_df<span class="sc">$</span>Y <span class="sc">==</span> <span class="st">"Non Bankrupt"</span>, ], <span class="fu">aes</span>(<span class="at">color=</span>Y)) <span class="sc">+</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> pca_df[pca_df<span class="sc">$</span>Y <span class="sc">==</span> <span class="st">"Bankrupt"</span>, ], <span class="fu">aes</span>(<span class="at">color=</span>Y)) <span class="sc">+</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"PC1"</span>, <span class="at">y =</span> <span class="st">"PC2"</span>,<span class="at">col=</span><span class="st">"Bankrupt?"</span>,<span class="at">title =</span> <span class="st">"PCA: First Two Principal Components"</span>) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bankruptcy-Prediction_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">

</div>
<div class="cell">

</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>